(function(a,m,s,p){a.fn.formValidation=function(q){var b=a.extend({},{username:"#full_name",validationMessage:"validationMessage",requireClass:"required",emailClass:"email",passClass:"pass",passConfirmClass:"pass_confirm",errorClass:"alert error",errorBoxClass:"val-box",otherMessages:".status-messages",statusMessagesClass:"js-status-message",emailRegEx:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,passRegEx:/^.*(?=.{8,})(?=.*[0-9])[a-zA-Z0-9]+$/,showErrorMsg:!0,consecutiveErrors:!0,
appendErrorToTitle:!0,saveInputs:!0,ajaxMode:!0,formSuccessMsgID:"#success_message",defaultErrorMsg:"Please enter a value",defaultSuccessMsg:"You have successfully submitted the form",dataURL:"",successFunction:null},q);a.fn.fn_error=function(d){var c={on:function(){this.each(function(){a(this).addClass(b.errorClass)});setTimeout(function(){},1E3);return this},off:function(){this.each(function(){a(this).removeClass(b.errorClass)});return this},clear:function(){this.each(function(){localStorage.removeItem(a(this).attr("name"))});
return this}};if(c[d])return c[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof d&&d)a.error("Method "+d+" does not exist on jQuery.fn_error");else return c.on.apply(this,arguments)};a.fn.fn_center=function(b,c){var e=null!=c?a(c):a(m),f={all:function(){e.css("position","relative");this.css("position","absolute");this.css("top",(e.height()-this.outerHeight())/2+e.scrollTop()+"px");this.css("left",(e.width()-this.outerWidth())/2+e.scrollLeft()+"px");return this},vertical:function(){e.css("position",
"relative");this.css("position","absolute");this.css("top",(e.height()-this.outerHeight())/2+e.scrollTop()+"px");return this},horizontal:function(){e.css("position","relative");this.css("position","absolute");this.css("left",(e.width()-this.outerWidth())/2+e.scrollLeft()+"px");return this}};if(f[b])return f[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof b&&b)a.error("Method "+b+" does not exist on jQuery.center");else return f.all.apply(this,arguments)};Array.prototype.indexOf||
(Array.prototype.indexOf=function(a,b){null==b?b=0:0>b&&(b=Math.max(0,this.length+b));for(var e=b,f=this.length;e<f;e++)if(this[e]===a)return e;return-1});var r={loadingAnimation:function(b,c,e){a.getScript("http://heartcode-canvasloader.googlecode.com/files/heartcode-canvasloader-min-0.9.js",function(){var a=new CanvasLoader(b);a.setShape("spiral");a.setDiameter(c);a.setDensity(13);a.setRange(0.6);a.setSpeed(1);a.setColor(e);a.show()})}};return this.each(function(){var d=a(this),c={init:function(){d.attr("novalidate",
"novalidate");a(b.otherMessages).hide();this.error_numeric="Must be a number";this.form_action=b.dataURL?b.dataURL:d.attr("action");this.cacheElements();this.createElements()},cacheElements:function(){this.status_messages=a('<div class="'+b.statusMessagesClass+'"></div>');this.errorBox=a('<span class="'+b.errorBoxClass+'"></span>')},createElements:function(){d.before(this.status_messages)},initForm:function(){this.validated=!0;this.enquiryname=a(b.username,d).val();try{this.successMsg=a(b.formSuccessMsgID,
d).val().replace("[name]",this.enquiryname)}catch(f){this.successMsg=b.defaultSuccessMsg}this.errorBox.empty().remove();a("."+b.errorBoxClass).empty().remove();this.errorArray=[]},getLocalStorage:function(){a("input, select, textarea",d).each(function(){var f=a(this).attr("name");if(localStorage[f])if(a(this).is("select"))a('option[selected="selected"]',this).removeAttr("selected"),a('option[value="'+localStorage[f]+'"]',this).prop("selected",!0);else if(a(this).is('input[type="radio"]'))a(this).val()==
localStorage[f]&&a(this).prop("checked",!0);else if(a(this).is('input[type="checkbox"]')){var b=localStorage[f].split(",");a('input[name="'+f+'"]').each(function(f){""!=b[f]&&a(this).val()==b[f]&&a(this).prop("checked",!0)})}else a(this).val(localStorage[f])})},resetForm:function(){a("."+b.errorBoxClass,d).remove();a('option[selected="selected"]',d).removeAttr("selected");a("input, select, textarea, label",d).removeClass(b.errorClass).fn_error("clear").removeAttr("selected")},addToError:function(a){a.fn_error("on");
a=a.attr("id");-1==this.errorArray.indexOf(a)&&this.errorArray.push(a)},displayErrors:function(){0<this.errorArray.length&&(c.validated=!1,a.each(this.errorArray,function(f){var g=a("#"+c.errorArray[f],d);if(g.is('input[type="checkbox"]')||g.is('input[type="radio"]'))var e=g.parent().parent().find(".label"),k=g.parent().parent().find("."+b.validationMessage);else e=g.parent().find("label"),k=g.parent().find("."+b.validationMessage);k=k.length?k.val()||k.text():b.defaultErrorMsg;b.showErrorMsg&&(b.consecutiveErrors?
f||(c.errorBox.text(k),b.appendErrorToTitle?(c.errorBox.prepend(" - "),e.append(c.errorBox)):g.parent().prepend(c.errorBox),c.errorBox.fadeIn(500),g.focus()):(b.appendErrorToTitle?e.append('<span class="'+b.errorBoxClass+'"></span>'):g.parent().prepend('<span class="'+b.errorBoxClass+'"></span>'),a("."+b.errorBoxClass).text(" - "+k),a("."+b.errorBoxClass).fadeIn(500)))}))},checkhttp:function(a){var b=a.val();""!=b&&-1==b.indexOf("http://")&&a.val("http://"+b)},formValidated:function(){a("button",
d).attr("disabled","disabled");var b=99*Math.random()+1;c.buttonName=a('button[type="submit"]',d).text();a('button[type="submit"]',d).html('<div id="loader-'+b+'"></div>');a("#loader").fn_center("all");r.loadingAnimation("loader-"+b,13,"#333");this.status_messages.hide();this.errorBox.remove()}},e={init:function(a){var b=a.val(),b=e.getMatch(b);this.suggestion=a.next(".suggestion");this.revealSuggestion(a,b)},domains:function(){return"aol.com bellsouth.net btinternet.com btopenworld.com blueyonder.co.uk comcast.net cox.net gmail.com google.com googlemail.com hotmail.co.uk hotmail.com hotmail.fr hotmail.it icloud.com live.com mac.com mail.com me.com msn.com o2.co.uk orange.co.uk outlook.com outlook.co.uk sbcglobal.net verizon.net virginmedia.com yahoo.com yahoo.co.uk yahoo.com.tw yahoo.es yahoo.fr".split(" ")},
getMatch:function(a){var b=99;a=a.split("@");for(var c=e.domains(),d=0;d<c.length;d++){var n=e.levenshteinDistance(c[d],a[1]);if(n<b)var b=n,l=c[d]}return 2>=b&&null!==l&&l!==a[1]?{address:a[0],domain:l}:!1},levenshteinDistance:function(a,b){if(null==a||0===a.length)return null==b||0===b.length?0:b.length;if(null==b||0===b.length)return a.length;for(var c=0,d=0,e=0,l=0;c+d<a.length&&c+e<b.length;){if(a[c+d]==b[c+e])l++;else for(var h=e=d=0;5>h;h++){if(c+h<a.length&&a[c+h]==b[c]){d=h;break}if(c+h<
b.length&&a[c]==b[c+h]){e=h;break}}c++}return(a.length+b.length)/2-l},revealSuggestion:function(b,c){c&&(a(".address",this.suggestion).text(c.address),a(".domain",this.suggestion).text(c.domain),this.suggestion.stop(!0,!1).slideDown(350),a(".alternative-email").on("click",function(a){a.preventDefault();b.val(c.address+"@"+c.domain);e.suggestion.stop(!0,!1).slideUp(350)}))}};c.init();b.saveInputs&&"undefined"!==typeof Storage&&(c.getLocalStorage(),a("input, select, textarea",d).change(function(){var b=
a(this).attr("name");if(a(this).is('input[type="checkbox"]')){var c=[];a('input[name="'+b+'"]').each(function(d){a(this).is(":checked")?c.push(a(this).val()):a(this).is("select")?localStorage[b]=a("option:selected",this).val():c.push("")});localStorage[b]=c}else localStorage[b]=a(this).val()}));a(function(){a(".status_messages").length&&a(".status_messages").hide();a("."+b.validationMessage).length&&a("."+b.validationMessage).hide();a(b.requireClass,d).each(function(){a(this).parent().find("label, .label").addClass("required")});
a('input[type="url"]',d).each(function(){a(this).on("blur",function(){c.checkhttp(a(this))})});a('button[type="reset"], input[type="reset"]',d).on("click",function(){c.resetForm()});a(".email",d).each(function(){var b=a('<div class="suggestion">Did you mean <a href="#" class="alternative-email"><span class="address">address</span>@<span class="domain">yourdomain.com</span></a>?</div>');a(this).after(b.hide());a(this).on({blur:function(){e.init(a(this))}})})});d.on("submit",function(){c.initForm();
a("."+b.requireClass+",."+b.emailClass+",."+b.passClass+",."+b.passConfirmClass,this).each(function(){if(a(this).hasClass(b.requireClass)&&0==a(this).val().length||a(this).val()==p)c.addToError(a(this));else if(a(this).hasClass(b.emailClass)&&!b.emailRegEx.test(a(this).val()))c.addToError(a(this));else if(a(this).hasClass(b.passClass)&&!b.regPass.test(a(this).val()))c.addToError(a(this));else if(a(this).hasClass(b.passConfirmClass)&&a(this).val()!==a("input."+b.passClass).val())c.addToError(a(this));
else if(a(this).hasClass(b.requireClass)&&a(this).is('input[type="radio"]')||a(this).is('input[type="checkbox"]')){var d=a(this).attr("name"),d=a('input[name="'+d+'"]');0==d.serializeArray().length?(a(this).fn_error("on").parent().parent().find(".label, label").fn_error("on"),d=d.attr("id"),-1==c.errorArray.indexOf(d)&&c.errorArray.push(d)):a(this).fn_error("off").parent().parent().find(".label, label").fn_error("off")}else a(this).fn_error("off")});c.displayErrors();if(c.validated)if(c.formValidated(),
b.ajaxMode)a.isFunction(b.successFunction)?b.successFunction():a.ajax({type:"POST",url:c.form_action,data:d.serialize(),success:function(){d.hide();c.status_messages.html("<p>"+c.successMsg+"</p>").fadeIn(500);a("input, textarea, select",d).fn_error("clear")},error:function(b,e,m){alert("Failure");a("button",d).removeAttr("disabled");a('button[type="submit"]',d).html(c.buttonName)}});else return a("input, textarea, select",d).fn_error("clear"),!0;return!1})})}})(jQuery,window,document);
